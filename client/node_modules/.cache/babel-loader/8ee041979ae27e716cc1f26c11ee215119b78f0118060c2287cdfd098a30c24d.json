{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{useDispatch,useSelector}from'react-redux';import{reserveTestLine,returnTestLine,fetchTestLines}from'../slices/toolSlice';// Adjust import path as necessary\nimport TestLineForm from'./TestLineForm';// Import the TestLineForm\nimport SidebarLayout from'./SidebarLayout';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ManageTestLines(){const dispatch=useDispatch();const testlines=useSelector(state=>state.tools.testlines);// Ensure you access the correct slice\nconst auth=useSelector(state=>state.auth);// Access authenticated user information\nconst[isModalOpen,setIsModalOpen]=useState(false);const[searchQuery,setSearchQuery]=useState(\"\");useEffect(()=>{dispatch(fetchTestLines());},[dispatch]);const handleReserve=testline_id=>{dispatch(reserveTestLine({user_id:auth.user.id,testline_id}));};const handleReturn=testline_id=>{dispatch(returnTestLine({user_id:auth.user.id,testline_id}));};const filteredTestLines=testlines.filter(testline=>testline.name.toLowerCase().includes(searchQuery.toLowerCase())||testline.status.toLowerCase().includes(searchQuery.toLowerCase()));const openModal=()=>{setIsModalOpen(true);};const closeModal=()=>{setIsModalOpen(false);};return/*#__PURE__*/_jsxs(\"div\",{className:\"w-full p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4 flex justify-between\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"input input-bordered w-full max-w-xs\",placeholder:\"Search...\",value:searchQuery,onChange:e=>setSearchQuery(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:openModal,className:\"btn btn-primary ml-2\",children:\"Add Test Line\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"overflow-x-auto\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-4\",children:\"Test Lines\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"table-auto w-full\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 w-1/4\",children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 w-1/4\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 w-1/4\",children:\"Reserve\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2 w-1/4\",children:\"Return\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:filteredTestLines.map(testline=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"border px-4 py-2\",children:testline.name}),/*#__PURE__*/_jsx(\"td\",{className:\"border px-4 py-2\",children:testline.status}),/*#__PURE__*/_jsx(\"td\",{className:\"border px-4 py-2 text-center\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleReserve(testline.id),className:\"btn btn-primary\",disabled:testline.status!=='available',children:\"Reserve\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"border px-4 py-2 text-center\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleReturn(testline.id),className:\"btn btn-secondary\",disabled:testline.status!=='checked out',children:\"Return\"})})]},testline.id))})]})]}),isModalOpen&&/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,right:0,bottom:0,backgroundColor:'rgba(0,0,0,0.5)',display:'flex',alignItems:'center',justifyContent:'center',zIndex:1000},children:/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'white',padding:'20px',borderRadius:'5px',boxShadow:'0 4px 6px rgba(0,0,0,0.1)',position:'relative',width:'90%',maxWidth:'800px'},children:[/*#__PURE__*/_jsx(TestLineForm,{onClose:closeModal}),/*#__PURE__*/_jsx(\"button\",{onClick:closeModal,style:{position:'absolute',top:'10px',right:'10px',cursor:'pointer'},children:\"\\u2715\"})]})})]});}export default ManageTestLines;","map":{"version":3,"names":["React","useState","useEffect","useDispatch","useSelector","reserveTestLine","returnTestLine","fetchTestLines","TestLineForm","SidebarLayout","jsx","_jsx","jsxs","_jsxs","ManageTestLines","dispatch","testlines","state","tools","auth","isModalOpen","setIsModalOpen","searchQuery","setSearchQuery","handleReserve","testline_id","user_id","user","id","handleReturn","filteredTestLines","filter","testline","name","toLowerCase","includes","status","openModal","closeModal","className","children","type","placeholder","value","onChange","e","target","onClick","map","disabled","style","position","top","left","right","bottom","backgroundColor","display","alignItems","justifyContent","zIndex","padding","borderRadius","boxShadow","width","maxWidth","onClose","cursor"],"sources":["/home/samuelrcwade/Development/Code/onelab_inventory_management/client/src/components/ManageTestLines.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport { reserveTestLine, returnTestLine, fetchTestLines } from '../slices/toolSlice'; // Adjust import path as necessary\nimport TestLineForm from './TestLineForm'; // Import the TestLineForm\nimport SidebarLayout from './SidebarLayout';\n\nfunction ManageTestLines() {\n  const dispatch = useDispatch();\n  const testlines = useSelector((state) => state.tools.testlines); // Ensure you access the correct slice\n  const auth = useSelector((state) => state.auth); // Access authenticated user information\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n\n  useEffect(() => {\n    dispatch(fetchTestLines());\n  }, [dispatch]);\n\n  const handleReserve = (testline_id) => {\n    dispatch(reserveTestLine({ user_id: auth.user.id, testline_id }));\n  };\n\n  const handleReturn = (testline_id) => {\n    dispatch(returnTestLine({ user_id: auth.user.id, testline_id }));\n  };\n\n  const filteredTestLines = testlines.filter(testline => \n    testline.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\n    testline.status.toLowerCase().includes(searchQuery.toLowerCase())\n  );\n\n  const openModal = () => {\n    setIsModalOpen(true);\n  };\n\n  const closeModal = () => {\n    setIsModalOpen(false);\n  };\n\n  return (\n      <div className=\"w-full p-4\">\n        <div className=\"mb-4 flex justify-between\">\n          <input\n            type=\"text\"\n            className=\"input input-bordered w-full max-w-xs\"\n            placeholder=\"Search...\"\n            value={searchQuery}\n            onChange={(e) => setSearchQuery(e.target.value)}\n          />\n          <button onClick={openModal} className=\"btn btn-primary ml-2\">Add Test Line</button>\n        </div>\n        <div className=\"overflow-x-auto\">\n          <h2 className=\"text-2xl font-bold mb-4\">Test Lines</h2>\n          <table className=\"table-auto w-full\">\n            <thead>\n              <tr>\n                <th className=\"px-4 py-2 w-1/4\">Name</th>\n                <th className=\"px-4 py-2 w-1/4\">Status</th>\n                <th className=\"px-4 py-2 w-1/4\">Reserve</th>\n                <th className=\"px-4 py-2 w-1/4\">Return</th>\n              </tr>\n            </thead>\n            <tbody>\n              {filteredTestLines.map(testline => (\n                <tr key={testline.id}>\n                  <td className=\"border px-4 py-2\">{testline.name}</td>\n                  <td className=\"border px-4 py-2\">{testline.status}</td>\n                  <td className=\"border px-4 py-2 text-center\">\n                    <button\n                      onClick={() => handleReserve(testline.id)}\n                      className=\"btn btn-primary\"\n                      disabled={testline.status !== 'available'}\n                    >\n                      Reserve\n                    </button>\n                  </td>\n                  <td className=\"border px-4 py-2 text-center\">\n                    <button\n                      onClick={() => handleReturn(testline.id)}\n                      className=\"btn btn-secondary\"\n                      disabled={testline.status !== 'checked out'}\n                    >\n                      Return\n                    </button>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n        {isModalOpen && (\n          <div style={{\n            position: 'fixed',\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            backgroundColor: 'rgba(0,0,0,0.5)',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            zIndex: 1000,\n          }}>\n            <div style={{\n              backgroundColor: 'white',\n              padding: '20px',\n              borderRadius: '5px',\n              boxShadow: '0 4px 6px rgba(0,0,0,0.1)',\n              position: 'relative',\n              width: '90%',\n              maxWidth: '800px',\n            }}>\n              <TestLineForm onClose={closeModal} />\n              <button onClick={closeModal} style={{ position: 'absolute', top: '10px', right: '10px', cursor: 'pointer' }}>âœ•</button>\n            </div>\n          </div>\n        )}\n      </div>\n  );\n}\n\nexport default ManageTestLines;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}