{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{fetchUsers,addUser,deleteUser}from'../slices/authSlice';// Adjust the import path\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ManageUsers=()=>{const dispatch=useDispatch();const users=useSelector(state=>state.users.users);const[newUser,setNewUser]=useState({username:'',email:'',password:'',role:'user',can_manage_tools:false,can_manage_testlines:false});useEffect(()=>{dispatch(fetchUsers());},[dispatch]);const handleAddUser=()=>{dispatch(addUser(newUser));setNewUser({username:'',email:'',password:'',role:'user',can_manage_tools:false,can_manage_testlines:false});};const handleDeleteUser=userId=>{dispatch(deleteUser(userId));};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Manage Users\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Username\",value:newUser.username,onChange:e=>setNewUser({...newUser,username:e.target.value})}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Email\",value:newUser.email,onChange:e=>setNewUser({...newUser,email:e.target.value})}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",value:newUser.password,onChange:e=>setNewUser({...newUser,password:e.target.value})}),/*#__PURE__*/_jsxs(\"select\",{value:newUser.role,onChange:e=>setNewUser({...newUser,role:e.target.value}),children:[/*#__PURE__*/_jsx(\"option\",{value:\"user\",children:\"User\"}),/*#__PURE__*/_jsx(\"option\",{value:\"manager\",children:\"Manager\"}),/*#__PURE__*/_jsx(\"option\",{value:\"admin\",children:\"Admin\"})]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:newUser.can_manage_tools,onChange:e=>setNewUser({...newUser,can_manage_tools:e.target.checked})}),\"Can Manage Tools\"]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:newUser.can_manage_testlines,onChange:e=>setNewUser({...newUser,can_manage_testlines:e.target.checked})}),\"Can Manage Test Lines\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddUser,children:\"Add User\"}),/*#__PURE__*/_jsx(\"ul\",{children:users.map(user=>/*#__PURE__*/_jsxs(\"li\",{children:[user.username,\" - \",user.email,/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteUser(user.id),children:\"Delete\"})]},user.id))})]});};export default ManageUsers;","map":{"version":3,"names":["React","useState","useEffect","useDispatch","useSelector","fetchUsers","addUser","deleteUser","jsx","_jsx","jsxs","_jsxs","ManageUsers","dispatch","users","state","newUser","setNewUser","username","email","password","role","can_manage_tools","can_manage_testlines","handleAddUser","handleDeleteUser","userId","children","type","placeholder","value","onChange","e","target","checked","onClick","map","user","id"],"sources":["/home/samuelrcwade/Development/Code/onelab_inventory_management/client/src/components/ManageUsers.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { fetchUsers, addUser, deleteUser } from '../slices/authSlice'; // Adjust the import path\n\nconst ManageUsers = () => {\n  const dispatch = useDispatch();\n  const users = useSelector((state) => state.users.users);\n  const [newUser, setNewUser] = useState({ username: '', email: '', password: '', role: 'user', can_manage_tools: false, can_manage_testlines: false });\n\n  useEffect(() => {\n    dispatch(fetchUsers());\n  }, [dispatch]);\n\n  const handleAddUser = () => {\n    dispatch(addUser(newUser));\n    setNewUser({ username: '', email: '', password: '', role: 'user', can_manage_tools: false, can_manage_testlines: false });\n  };\n\n  const handleDeleteUser = (userId) => {\n    dispatch(deleteUser(userId));\n  };\n\n  return (\n    <div>\n      <h2>Manage Users</h2>\n      <input type=\"text\" placeholder=\"Username\" value={newUser.username} onChange={(e) => setNewUser({ ...newUser, username: e.target.value })} />\n      <input type=\"email\" placeholder=\"Email\" value={newUser.email} onChange={(e) => setNewUser({ ...newUser, email: e.target.value })} />\n      <input type=\"password\" placeholder=\"Password\" value={newUser.password} onChange={(e) => setNewUser({ ...newUser, password: e.target.value })} />\n      <select value={newUser.role} onChange={(e) => setNewUser({ ...newUser, role: e.target.value })}>\n        <option value=\"user\">User</option>\n        <option value=\"manager\">Manager</option>\n        <option value=\"admin\">Admin</option>\n      </select>\n      <label>\n        <input type=\"checkbox\" checked={newUser.can_manage_tools} onChange={(e) => setNewUser({ ...newUser, can_manage_tools: e.target.checked })} />\n        Can Manage Tools\n      </label>\n      <label>\n        <input type=\"checkbox\" checked={newUser.can_manage_testlines} onChange={(e) => setNewUser({ ...newUser, can_manage_testlines: e.target.checked })} />\n        Can Manage Test Lines\n      </label>\n      <button onClick={handleAddUser}>Add User</button>\n      <ul>\n        {users.map(user => (\n          <li key={user.id}>\n            {user.username} - {user.email}\n            <button onClick={() => handleDeleteUser(user.id)}>Delete</button>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default ManageUsers;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}