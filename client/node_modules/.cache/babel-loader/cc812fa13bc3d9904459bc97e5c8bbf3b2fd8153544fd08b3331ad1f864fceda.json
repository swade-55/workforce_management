{"ast":null,"code":"import React from'react';import{Formik,Form,Field,ErrorMessage}from'formik';import*as Yup from'yup';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const NewUserForm=()=>{const navigate=useNavigate();const initialValues={username:'',email:'',password:''};const validationSchema=Yup.object().shape({username:Yup.string().required('Username is required'),email:Yup.string().email('Invalid email').required('Email is required'),password:Yup.string().required('Password is required')});const onSubmit=(values,_ref)=>{let{setSubmitting,resetForm,setErrors}=_ref;// Construct the API endpoint\nconst apiUrl='/users';fetch(apiUrl,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(values)}).then(response=>{if(!response.ok){throw new Error('Network response was not ok');}return response.json();}).then(data=>{console.log('Success:',data);resetForm();navigate('/login');}).catch(error=>{console.error('Error:',error);setErrors({submit:'Failed to create user'});}).finally(()=>{setSubmitting(false);});};return/*#__PURE__*/_jsx(\"div\",{className:\"card bg-base-100 shadow-xl p-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/'),className:\"btn btn-secondary mb-4\",children:\"Back to Home\"}),/*#__PURE__*/_jsx(Formik,{initialValues:initialValues,validationSchema:validationSchema,onSubmit:onSubmit,children:_ref2=>{let{isSubmitting}=_ref2;return/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-control\",children:[/*#__PURE__*/_jsx(Field,{name:\"username\",placeholder:\"Username\",className:\"input input-bordered\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"username\",component:\"div\",className:\"text-error\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-control\",children:[/*#__PURE__*/_jsx(Field,{name:\"email\",type:\"email\",placeholder:\"Email\",className:\"input input-bordered\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"email\",component:\"div\",className:\"text-error\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-control\",children:[/*#__PURE__*/_jsx(Field,{name:\"password\",type:\"password\",placeholder:\"Password\",className:\"input input-bordered\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"password\",component:\"div\",className:\"text-error\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:isSubmitting,className:\"btn btn-primary mt-4\",children:\"Create User\"})]});}})]})});};export default NewUserForm;","map":{"version":3,"names":["React","Formik","Form","Field","ErrorMessage","Yup","useNavigate","jsx","_jsx","jsxs","_jsxs","NewUserForm","navigate","initialValues","username","email","password","validationSchema","object","shape","string","required","onSubmit","values","_ref","setSubmitting","resetForm","setErrors","apiUrl","fetch","method","headers","body","JSON","stringify","then","response","ok","Error","json","data","console","log","catch","error","submit","finally","className","children","onClick","_ref2","isSubmitting","name","placeholder","component","type","disabled"],"sources":["/home/samuelrcwade/Development/Code/Projects/inv_management/client/src/components/NewUserForm.js"],"sourcesContent":["import React from 'react';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport { useNavigate } from 'react-router-dom';\n\nconst NewUserForm = () => {\n  const navigate = useNavigate();\n  const initialValues = {\n    username: '',\n    email: '',\n    password: '',\n  };\n\n  const validationSchema = Yup.object().shape({\n    username: Yup.string().required('Username is required'),\n    email: Yup.string().email('Invalid email').required('Email is required'),\n    password: Yup.string().required('Password is required'),\n  });\n\n  const onSubmit = (values, { setSubmitting, resetForm, setErrors }) => {\n    // Construct the API endpoint\n    const apiUrl = '/users'; \n\n    fetch(apiUrl, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(values),\n    })\n    .then(response => {\n        if (!response.ok) {\n            throw new Error('Network response was not ok');\n        }\n        return response.json();\n    })\n    .then(data => {\n        console.log('Success:', data);\n        resetForm();\n        navigate('/login');\n    })\n    .catch(error => {\n        console.error('Error:', error);\n        setErrors({ submit: 'Failed to create user' });\n    })\n    .finally(() => {\n        setSubmitting(false);\n    });\n};\n\n\nreturn (\n  <div className=\"card bg-base-100 shadow-xl p-5\">\n    <div className=\"card-body\">\n      <button onClick={() => navigate('/')} className=\"btn btn-secondary mb-4\">Back to Home</button>\n      <Formik initialValues={initialValues} validationSchema={validationSchema} onSubmit={onSubmit}>\n        {({ isSubmitting }) => (\n          <Form>\n            <div className=\"form-control\">\n              <Field name=\"username\" placeholder=\"Username\" className=\"input input-bordered\" />\n              <ErrorMessage name=\"username\" component=\"div\" className=\"text-error\" />\n            </div>\n\n            <div className=\"form-control\">\n              <Field name=\"email\" type=\"email\" placeholder=\"Email\" className=\"input input-bordered\" />\n              <ErrorMessage name=\"email\" component=\"div\" className=\"text-error\" />\n            </div>\n\n            <div className=\"form-control\">\n              <Field name=\"password\" type=\"password\" placeholder=\"Password\" className=\"input input-bordered\" />\n              <ErrorMessage name=\"password\" component=\"div\" className=\"text-error\" />\n            </div>\n\n            <button type=\"submit\" disabled={isSubmitting} className=\"btn btn-primary mt-4\">\n              Create User\n            </button>\n          </Form>\n        )}\n      </Formik>\n    </div>\n  </div>\n);\n};\n\nexport default NewUserForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}