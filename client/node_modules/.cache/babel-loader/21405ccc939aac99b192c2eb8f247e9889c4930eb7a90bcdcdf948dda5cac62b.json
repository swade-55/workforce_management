{"ast":null,"code":"import React,{useState}from'react';import{useDispatch}from'react-redux';import{deleteTool,updateTool}from'../slices/toolSlice';import{useFormik}from'formik';import*as Yup from'yup';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ToolCard=_ref=>{let{tool,handleDelete}=_ref;const dispatch=useDispatch();const[editMode,setEditMode]=useState(false);const validationSchema=Yup.object({name:Yup.string().required('Name is required'),description:Yup.string().required('Description is required'),category:Yup.string().required('Category is required'),status:Yup.string().required('Status is required'),serial:Yup.string().required('Serial is required')});const formik=useFormik({initialValues:{name:tool.name||'',description:tool.description||'',category:tool.category.name||'',status:tool.status||'',serial:tool.serial||''},validationSchema,onSubmit:values=>{const updatedData={toolId:tool.id,...values};console.log('Dispatching updateTool with data:',updatedData);dispatch(updateTool(updatedData)).unwrap().then(()=>{setEditMode(false);// Turn off edit mode on successful update\n}).catch(error=>{console.error('Error updating tool:',error);});}});return/*#__PURE__*/_jsx(\"tr\",{children:editMode?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"td\",{className:\"px-4 py-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"input input-bordered w-full\",...formik.getFieldProps('name')}),formik.errors.name&&/*#__PURE__*/_jsx(\"div\",{className:\"text-error\",children:formik.errors.name})]}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-4 py-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"input input-bordered w-full\",...formik.getFieldProps('description')}),formik.errors.description&&/*#__PURE__*/_jsx(\"div\",{className:\"text-error\",children:formik.errors.description})]}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-4 py-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"input input-bordered w-full\",...formik.getFieldProps('category')}),formik.errors.category&&/*#__PURE__*/_jsx(\"div\",{className:\"text-error\",children:formik.errors.category})]}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-4 py-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"input input-bordered w-full\",...formik.getFieldProps('status')}),formik.errors.status&&/*#__PURE__*/_jsx(\"div\",{className:\"text-error\",children:formik.errors.status})]}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-4 py-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"input input-bordered w-full\",...formik.getFieldProps('serial')}),formik.errors.serial&&/*#__PURE__*/_jsx(\"div\",{className:\"text-error\",children:formik.errors.serial})]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-2 text-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:formik.handleSubmit,className:\"btn btn-primary\",children:\"Save\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setEditMode(false),className:\"btn btn-secondary\",children:\"Cancel\"})]})})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-2\",children:tool.name}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-2\",children:tool.description}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-2\",children:tool.category.name}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-2\",children:tool.status}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-2\",children:tool.serial}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-2 text-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setEditMode(true),className:\"btn btn-primary\",children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(tool.id),className:\"btn btn-error\",children:\"Delete\"})]})})]})});};export default ToolCard;","map":{"version":3,"names":["React","useState","useDispatch","deleteTool","updateTool","useFormik","Yup","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ToolCard","_ref","tool","handleDelete","dispatch","editMode","setEditMode","validationSchema","object","name","string","required","description","category","status","serial","formik","initialValues","onSubmit","values","updatedData","toolId","id","console","log","unwrap","then","catch","error","children","className","type","getFieldProps","errors","onClick","handleSubmit"],"sources":["/home/samuelrcwade/Development/Code/Projects/inv_management/client/src/components/ToolCard.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { deleteTool, updateTool } from '../slices/toolSlice';\nimport { useFormik } from 'formik';\nimport * as Yup from 'yup';\n\nconst ToolCard = ({ tool, handleDelete }) => {\n  const dispatch = useDispatch();\n  const [editMode, setEditMode] = useState(false);\n\n  const validationSchema = Yup.object({\n    name: Yup.string().required('Name is required'),\n    description: Yup.string().required('Description is required'),\n    category: Yup.string().required('Category is required'),\n    status: Yup.string().required('Status is required'),\n    serial: Yup.string().required('Serial is required'),\n  });\n\n  const formik = useFormik({\n    initialValues: {\n      name: tool.name || '',\n      description: tool.description || '',\n      category: tool.category.name || '',\n      status: tool.status || '',\n      serial: tool.serial || '',\n    },\n    validationSchema,\n    onSubmit: (values) => {\n      const updatedData = {\n        toolId: tool.id,\n        ...values,\n      };\n      console.log('Dispatching updateTool with data:', updatedData);\n      dispatch(updateTool(updatedData))\n        .unwrap()\n        .then(() => {\n          setEditMode(false); // Turn off edit mode on successful update\n        })\n        .catch(error => {\n          console.error('Error updating tool:', error);\n        });\n    },\n  });\n\n  return (\n    <tr>\n      {editMode ? (\n        <>\n          <td className=\"px-4 py-2\">\n            <input\n              type=\"text\"\n              className=\"input input-bordered w-full\"\n              {...formik.getFieldProps('name')}\n            />\n            {formik.errors.name && <div className=\"text-error\">{formik.errors.name}</div>}\n          </td>\n          <td className=\"px-4 py-2\">\n            <input\n              type=\"text\"\n              className=\"input input-bordered w-full\"\n              {...formik.getFieldProps('description')}\n            />\n            {formik.errors.description && <div className=\"text-error\">{formik.errors.description}</div>}\n          </td>\n          <td className=\"px-4 py-2\">\n            <input\n              type=\"text\"\n              className=\"input input-bordered w-full\"\n              {...formik.getFieldProps('category')}\n            />\n            {formik.errors.category && <div className=\"text-error\">{formik.errors.category}</div>}\n          </td>\n          <td className=\"px-4 py-2\">\n            <input\n              type=\"text\"\n              className=\"input input-bordered w-full\"\n              {...formik.getFieldProps('status')}\n            />\n            {formik.errors.status && <div className=\"text-error\">{formik.errors.status}</div>}\n          </td>\n          <td className=\"px-4 py-2\">\n            <input\n              type=\"text\"\n              className=\"input input-bordered w-full\"\n              {...formik.getFieldProps('serial')}\n            />\n            {formik.errors.serial && <div className=\"text-error\">{formik.errors.serial}</div>}\n          </td>\n          <td className=\"px-4 py-2 text-center\">\n            <div className=\"flex justify-center space-x-2\">\n              <button type=\"button\" onClick={formik.handleSubmit} className=\"btn btn-primary\">Save</button>\n              <button type=\"button\" onClick={() => setEditMode(false)} className=\"btn btn-secondary\">Cancel</button>\n            </div>\n          </td>\n        </>\n      ) : (\n        <>\n          <td className=\"px-4 py-2\">{tool.name}</td>\n          <td className=\"px-4 py-2\">{tool.description}</td>\n          <td className=\"px-4 py-2\">{tool.category.name}</td>\n          <td className=\"px-4 py-2\">{tool.status}</td>\n          <td className=\"px-4 py-2\">{tool.serial}</td>\n          <td className=\"px-4 py-2 text-center\">\n            <div className=\"flex justify-center space-x-2\">\n              <button onClick={() => setEditMode(true)} className=\"btn btn-primary\">Edit</button>\n              <button onClick={() => handleDelete(tool.id)} className=\"btn btn-error\">Delete</button>\n            </div>\n          </td>\n        </>\n      )}\n    </tr>\n  );\n};\n\nexport default ToolCard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}