{"ast":null,"code":"import React,{useEffect}from'react';import{useSelector,useDispatch}from'react-redux';import{fetchTools,fetchCategories}from'../slices/toolSlice';// Adjust the import path as needed\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ExecutiveSummary(){const dispatch=useDispatch();const tools=useSelector(state=>state.tools.tools);const categories=useSelector(state=>state.tools.categories);console.log('categories',categories);// Group tools by category and then by status\nconst toolsByCategoryAndStatus=tools.reduce((acc,tool)=>{var _categories$find;const categoryName=((_categories$find=categories.find(category=>category.id===tool.category_id))===null||_categories$find===void 0?void 0:_categories$find.name)||'Unknown Category';const status=tool.status||'Unknown Status';if(!acc[categoryName]){acc[categoryName]={};}if(!acc[categoryName][status]){acc[categoryName][status]=[];}acc[categoryName][status].push(tool);return acc;},{});const getSummaryData=()=>{return Object.entries(toolsByCategoryAndStatus).map(_ref=>{let[category,statuses]=_ref;return{category,statuses:Object.entries(statuses).map(_ref2=>{let[status,tools]=_ref2;return{status,count:tools.length};})};});};const summaryData=getSummaryData();return/*#__PURE__*/_jsxs(\"div\",{className:\"p-5\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold mb-5\",children:\"Tools Summary\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold mb-4\",children:\"Count of Tools by Category and Status\"}),summaryData.map(_ref3=>{let{category,statuses}=_ref3;return/*#__PURE__*/_jsxs(\"div\",{className:\"mb-5\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold mb-3\",children:category}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table w-full\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Count\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:statuses.map(_ref4=>{let{status,count}=_ref4;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:status}),/*#__PURE__*/_jsx(\"td\",{children:count})]},status);})})]})})]},category);})]});}export default ExecutiveSummary;","map":{"version":3,"names":["React","useEffect","useSelector","useDispatch","fetchTools","fetchCategories","jsx","_jsx","jsxs","_jsxs","ExecutiveSummary","dispatch","tools","state","categories","console","log","toolsByCategoryAndStatus","reduce","acc","tool","_categories$find","categoryName","find","category","id","category_id","name","status","push","getSummaryData","Object","entries","map","_ref","statuses","_ref2","count","length","summaryData","className","children","_ref3","_ref4"],"sources":["/home/samuelrcwade/Development/Code/onelab_inventory_management/client/src/components/ExecutiveSummary.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { fetchTools, fetchCategories } from '../slices/toolSlice'; // Adjust the import path as needed\n\nfunction ExecutiveSummary() {\n  const dispatch = useDispatch();\n  const tools = useSelector(state => state.tools.tools);\n  const categories = useSelector(state=>state.tools.categories)\n  console.log('categories', categories)\n\n\n  // Group tools by category and then by status\n  const toolsByCategoryAndStatus = tools.reduce((acc, tool) => {\n    const categoryName = categories.find(category => category.id === tool.category_id)?.name || 'Unknown Category';\n    const status = tool.status || 'Unknown Status';\n\n    if (!acc[categoryName]) {\n      acc[categoryName] = {};\n    }\n    if (!acc[categoryName][status]) {\n      acc[categoryName][status] = [];\n    }\n\n    acc[categoryName][status].push(tool);\n    return acc;\n  }, {});\n\n  const getSummaryData = () => {\n    return Object.entries(toolsByCategoryAndStatus).map(([category, statuses]) => ({\n      category,\n      statuses: Object.entries(statuses).map(([status, tools]) => ({\n        status,\n        count: tools.length\n      }))\n    }));\n  };\n\n  const summaryData = getSummaryData();\n\n  return (\n    <div className=\"p-5\">\n      <h1 className=\"text-3xl font-bold mb-5\">Tools Summary</h1>\n\n      <h2 className=\"text-2xl font-semibold mb-4\">Count of Tools by Category and Status</h2>\n      {summaryData.map(({ category, statuses }) => (\n        <div key={category} className=\"mb-5\">\n          <h3 className=\"text-xl font-semibold mb-3\">{category}</h3>\n          {/* DaisyUI Table */}\n          <div className=\"overflow-x-auto\">\n            <table className=\"table w-full\">\n              <thead>\n                <tr>\n                  <th>Status</th>\n                  <th>Count</th>\n                </tr>\n              </thead>\n              <tbody>\n                {statuses.map(({ status, count }) => (\n                  <tr key={status}>\n                    <td>{status}</td>\n                    <td>{count}</td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n}\n\nexport default ExecutiveSummary;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}