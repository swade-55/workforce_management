{"ast":null,"code":"import React,{useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{BrowserRouter as Router,Routes,Route,Navigate}from'react-router-dom';import{fetchTools,fetchCategories}from'../slices/toolSlice';import{checkSession}from'../slices/authSlice';import LandingPage from'./LandingPage';import LoginForm from'./LoginForm';import NewUserForm from'./NewUserForm';import SidebarLayout from'./SidebarLayout';import MasterOperatingPlan from'./MasterOperatingPlan';import ExecutiveSummary from'./ExecutiveSummary';import ManageTestLines from'./ManageTestLines';import ManageUsers from'./ManageUsers';// Import ManageUsers\nimport{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const dispatch=useDispatch();const auth=useSelector(state=>state.auth);useEffect(()=>{dispatch(checkSession()).then(action=>{if(action.type.endsWith('fulfilled')){dispatch(fetchTools());dispatch(fetchCategories());}});},[dispatch]);return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsx(Routes,{children:!auth.isAuthenticated?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(LandingPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(LoginForm,{})}),/*#__PURE__*/_jsx(Route,{path:\"/signup\",element:/*#__PURE__*/_jsx(NewUserForm,{})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{replace:true,to:\"/\"})})]}):/*#__PURE__*/_jsxs(Route,{path:\"/\",element:/*#__PURE__*/_jsx(SidebarLayout,{}),children:[/*#__PURE__*/_jsx(Route,{path:\"masteroperatingplan\",element:/*#__PURE__*/_jsx(MasterOperatingPlan,{})}),/*#__PURE__*/_jsx(Route,{path:\"manage-test-lines\",element:/*#__PURE__*/_jsx(ManageTestLines,{})}),auth.user&&auth.user.role==='admin'&&/*#__PURE__*/_jsx(Route,{path:\"manage-users\",element:/*#__PURE__*/_jsx(ManageUsers,{})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(ExecutiveSummary,{})})]})})});}export default App;","map":{"version":3,"names":["React","useEffect","useDispatch","useSelector","BrowserRouter","Router","Routes","Route","Navigate","fetchTools","fetchCategories","checkSession","LandingPage","LoginForm","NewUserForm","SidebarLayout","MasterOperatingPlan","ExecutiveSummary","ManageTestLines","ManageUsers","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","App","dispatch","auth","state","then","action","type","endsWith","children","isAuthenticated","path","element","replace","to","user","role"],"sources":["/home/samuelrcwade/Development/Code/onelab_inventory_management/client/src/components/App.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport { fetchTools, fetchCategories } from '../slices/toolSlice';\nimport { checkSession } from '../slices/authSlice';\nimport LandingPage from './LandingPage';\nimport LoginForm from './LoginForm';\nimport NewUserForm from './NewUserForm';\nimport SidebarLayout from './SidebarLayout';\nimport MasterOperatingPlan from './MasterOperatingPlan';\nimport ExecutiveSummary from './ExecutiveSummary';\nimport ManageTestLines from './ManageTestLines';\nimport ManageUsers from './ManageUsers'; // Import ManageUsers\n\nfunction App() {\n  const dispatch = useDispatch();\n  const auth = useSelector((state) => state.auth);\n\n  useEffect(() => {\n    dispatch(checkSession()).then((action) => {\n      if (action.type.endsWith('fulfilled')) {\n        dispatch(fetchTools());\n        dispatch(fetchCategories());\n      }\n    });\n  }, [dispatch]);\n\n  return (\n    <Router>\n      <Routes>\n        {!auth.isAuthenticated ? (\n          <>\n            <Route path=\"/\" element={<LandingPage />} />\n            <Route path=\"/login\" element={<LoginForm />} />\n            <Route path=\"/signup\" element={<NewUserForm />} />\n            <Route path=\"*\" element={<Navigate replace to=\"/\" />} />\n          </>\n        ) : (\n          <Route path=\"/\" element={<SidebarLayout />}>\n            <Route path=\"masteroperatingplan\" element={<MasterOperatingPlan />} />\n            <Route path=\"manage-test-lines\" element={<ManageTestLines />} />\n            {auth.user && auth.user.role === 'admin' && (\n              <Route path=\"manage-users\" element={<ManageUsers />} />\n            )}\n            <Route path=\"/\" element={<ExecutiveSummary />} />\n          </Route>\n        )}\n      </Routes>\n    </Router>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}