{"ast":null,"code":"import React from'react';import{Formik,Form,Field,ErrorMessage}from'formik';import{useDispatch,useSelector}from'react-redux';import{addTool}from'../slices/toolSlice';import*as Yup from'yup';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ToolForm(_ref){let{onClose}=_ref;const dispatch=useDispatch();const tools=useSelector(state=>state.tools.tools);const uniqueCategories=useSelector(state=>state.tools.categories);const validationSchema=Yup.object({name:Yup.string().required('Name is required'),category_id:Yup.number().required('Category is required'),serial:Yup.number().required('Serial is required'),description:Yup.string().required('Description is required'),model:Yup.string().required('Model is required'),status:Yup.string().required('Status is required')});const uniqueStatus=['New','In Use','Storage','Damaged','Lost'];const initialValues={name:'',category_id:'',serial:'',description:'',model:'',status:''};const onSubmit=(values,_ref2)=>{let{setSubmitting,resetForm}=_ref2;const payload={name:values.name,category_id:parseInt(values.category_id,10),serial:values.serial,description:values.description,model:values.model,status:values.status};dispatch(addTool(payload)).then(()=>{onClose();resetForm();}).finally(()=>{setSubmitting(false);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 bg-base-100\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold\",children:\"Add a New Tool\"}),/*#__PURE__*/_jsx(Formik,{initialValues:initialValues,validationSchema:validationSchema,onSubmit:onSubmit,children:_ref3=>{let{isSubmitting,setFieldValue}=_ref3;return/*#__PURE__*/_jsxs(Form,{className:\"form-control w-full max-w-xs\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",htmlFor:\"category_id\",children:/*#__PURE__*/_jsx(\"span\",{className:\"label-text\",children:\"Category\"})}),/*#__PURE__*/_jsxs(Field,{as:\"select\",name:\"category_id\",className:\"select select-bordered w-full max-w-xs\",onChange:e=>setFieldValue(\"category_id\",e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a Category\"}),uniqueCategories.map(category=>/*#__PURE__*/_jsx(\"option\",{value:category.id,children:category.name},category.id))]}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"category_id\",component:\"div\",className:\"text-error\"}),/*#__PURE__*/_jsx(\"label\",{className:\"label\",htmlFor:\"name\",children:/*#__PURE__*/_jsx(\"span\",{className:\"label-text\",children:\"Name\"})}),/*#__PURE__*/_jsx(Field,{name:\"name\",placeholder:\"Name\",className:\"input input-bordered w-full max-w-xs\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"name\",component:\"div\",className:\"text-error\"}),/*#__PURE__*/_jsx(\"label\",{className:\"label\",htmlFor:\"model\",children:/*#__PURE__*/_jsx(\"span\",{className:\"label-text\",children:\"Model\"})}),/*#__PURE__*/_jsx(Field,{name:\"model\",placeholder:\"Model\",className:\"input input-bordered w-full max-w-xs\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"model\",component:\"div\",className:\"text-error\"}),/*#__PURE__*/_jsx(\"label\",{className:\"label\",htmlFor:\"serial\",children:/*#__PURE__*/_jsx(\"span\",{className:\"label-text\",children:\"Serial\"})}),/*#__PURE__*/_jsx(Field,{name:\"serial\",placeholder:\"Serial\",className:\"input input-bordered w-full max-w-xs\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"serial\",component:\"div\",className:\"text-error\"}),/*#__PURE__*/_jsx(\"label\",{className:\"label\",htmlFor:\"description\",children:/*#__PURE__*/_jsx(\"span\",{className:\"label-text\",children:\"Description\"})}),/*#__PURE__*/_jsx(Field,{name:\"description\",placeholder:\"Description\",className:\"input input-bordered w-full max-w-xs\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"description\",component:\"div\",className:\"text-error\"}),/*#__PURE__*/_jsx(\"label\",{className:\"label\",htmlFor:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"label-text\",children:\"Status\"})}),/*#__PURE__*/_jsxs(Field,{as:\"select\",name:\"status\",className:\"select select-bordered w-full max-w-xs\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a Status\"}),uniqueStatus.map(status=>/*#__PURE__*/_jsx(\"option\",{value:status,children:status},status))]}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"status\",component:\"div\",className:\"text-error\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary mt-4\",type:\"submit\",disabled:isSubmitting,children:\"Submit\"})]});}})]});}export default ToolForm;","map":{"version":3,"names":["React","Formik","Form","Field","ErrorMessage","useDispatch","useSelector","addTool","Yup","jsx","_jsx","jsxs","_jsxs","ToolForm","_ref","onClose","dispatch","tools","state","uniqueCategories","categories","validationSchema","object","name","string","required","category_id","number","serial","description","model","status","uniqueStatus","initialValues","onSubmit","values","_ref2","setSubmitting","resetForm","payload","parseInt","then","finally","className","children","_ref3","isSubmitting","setFieldValue","htmlFor","as","onChange","e","target","value","map","category","id","component","placeholder","type","disabled"],"sources":["/home/samuelrcwade/Development/Code/Projects/inv_management/client/src/components/ToolForm.js"],"sourcesContent":["import React from 'react';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addTool } from '../slices/toolSlice';\nimport * as Yup from 'yup';\n\nfunction ToolForm({ onClose }) {\n  const dispatch = useDispatch();\n  const tools = useSelector(state => state.tools.tools);\n  const uniqueCategories = useSelector(state=>state.tools.categories)\n\n  const validationSchema = Yup.object({\n    name: Yup.string().required('Name is required'),\n    category_id: Yup.number().required('Category is required'),\n    serial: Yup.number().required('Serial is required'),\n    description: Yup.string().required('Description is required'),\n    model: Yup.string().required('Model is required'),\n    status: Yup.string().required('Status is required'),\n  });\n\n\n\n  const uniqueStatus = ['New', 'In Use', 'Storage', 'Damaged', 'Lost'];\n\n  const initialValues = {\n    name: '',\n    category_id: '',\n    serial: '',\n    description: '',\n    model: '',\n    status: '',\n  };\n\n  const onSubmit = (values, { setSubmitting, resetForm }) => {\n    const payload = {\n      name: values.name,\n      category_id: parseInt(values.category_id, 10),\n      serial: values.serial,\n      description: values.description,\n      model: values.model,\n      status: values.status,\n    };\n\n    dispatch(addTool(payload))\n      .then(() => {\n        onClose();\n        resetForm();\n      })\n      .finally(() => {\n        setSubmitting(false);\n      });\n  };\n\n  return (\n    <div className=\"p-4 bg-base-100\">\n      <h3 className=\"text-lg font-semibold\">Add a New Tool</h3>\n      <Formik initialValues={initialValues} validationSchema={validationSchema} onSubmit={onSubmit}>\n        {({ isSubmitting, setFieldValue }) => (\n          <Form className=\"form-control w-full max-w-xs\">\n            <label className=\"label\" htmlFor=\"category_id\">\n              <span className=\"label-text\">Category</span>\n            </label>\n            <Field as=\"select\" name=\"category_id\" className=\"select select-bordered w-full max-w-xs\" onChange={e => setFieldValue(\"category_id\", e.target.value)}>\n              <option value=\"\">Select a Category</option>\n              {uniqueCategories.map(category => (\n                <option key={category.id} value={category.id}>{category.name}</option>\n              ))}\n            </Field>\n            <ErrorMessage name=\"category_id\" component=\"div\" className=\"text-error\" />\n\n            <label className=\"label\" htmlFor=\"name\">\n              <span className=\"label-text\">Name</span>\n            </label>\n            <Field name=\"name\" placeholder=\"Name\" className=\"input input-bordered w-full max-w-xs\" />\n            <ErrorMessage name=\"name\" component=\"div\" className=\"text-error\" />\n\n            <label className=\"label\" htmlFor=\"model\">\n              <span className=\"label-text\">Model</span>\n            </label>\n            <Field name=\"model\" placeholder=\"Model\" className=\"input input-bordered w-full max-w-xs\" />\n            <ErrorMessage name=\"model\" component=\"div\" className=\"text-error\" />\n\n            <label className=\"label\" htmlFor=\"serial\">\n              <span className=\"label-text\">Serial</span>\n            </label>\n            <Field name=\"serial\" placeholder=\"Serial\" className=\"input input-bordered w-full max-w-xs\" />\n            <ErrorMessage name=\"serial\" component=\"div\" className=\"text-error\" />\n\n            <label className=\"label\" htmlFor=\"description\">\n              <span className=\"label-text\">Description</span>\n            </label>\n            <Field name=\"description\" placeholder=\"Description\" className=\"input input-bordered w-full max-w-xs\" />\n            <ErrorMessage name=\"description\" component=\"div\" className=\"text-error\" />\n\n            <label className=\"label\" htmlFor=\"status\">\n              <span className=\"label-text\">Status</span>\n            </label>\n            <Field as=\"select\" name=\"status\" className=\"select select-bordered w-full max-w-xs\">\n              <option value=\"\">Select a Status</option>\n              {uniqueStatus.map(status => (\n                <option key={status} value={status}>{status}</option>\n              ))}\n            </Field>\n            <ErrorMessage name=\"status\" component=\"div\" className=\"text-error\" />\n\n            <button className=\"btn btn-primary mt-4\" type=\"submit\" disabled={isSubmitting}>Submit</button>\n          </Form>\n        )}\n      </Formik>\n    </div>\n  );\n}\n\nexport default ToolForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}