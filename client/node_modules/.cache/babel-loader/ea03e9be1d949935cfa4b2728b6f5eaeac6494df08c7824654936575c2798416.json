{"ast":null,"code":"import React,{useEffect}from'react';import{useDispatch}from'react-redux';import{BrowserRouter as Router,Routes,Route,Link,BrowserRouter,Navigate,useNavigate}from'react-router-dom';import MasterOperatingPlan from'./MasterOperatingPlan';import About from'./About';import ExecutiveSummary from'./ExecutiveSummary';import ToolForm from'./ToolForm';import CategoryForm from'./CategoryForm';import{fetchTools,fetchCategories}from'../slices/toolSlice';import HeroSection from'./HeroSection';import{checkSession,logoutUser}from'../slices/authSlice';import LandingPage from'./LandingPage';import{useSelector}from'react-redux';import LoginForm from'./LoginForm';import NewUserForm from'./NewUserForm';import Layout from'./Layout';import Breadcrumbs from'./Breadcrumbs';import TestLineContainer from'./TestLineContainer';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const dispatch=useDispatch();const auth=useSelector(state=>state.auth);useEffect(()=>{dispatch(checkSession()).then(action=>{if(action.type.endsWith('fulfilled')){const userId=action.payload.user_id;console.log('useriD',userId);const userIdObject=action.payload;console.log('useriD',userIdObject);dispatch(fetchTools());dispatch(fetchCategories());}});},[dispatch]);// useEffect(() => {\n//   dispatch(fetchTools());\n// }, [dispatch]);\nreturn/*#__PURE__*/_jsxs(BrowserRouter,{children:[auth.isAuthenticated,/*#__PURE__*/_jsx(Breadcrumbs,{}),/*#__PURE__*/_jsx(Routes,{children:!auth.isAuthenticated?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(LandingPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(LoginForm,{})}),/*#__PURE__*/_jsx(Route,{path:\"/signup\",element:/*#__PURE__*/_jsx(NewUserForm,{})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{replace:true,to:\"/\"})})]}):/*#__PURE__*/ /* Protected Routes for Authenticated Users */_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Layout,{})}),/*#__PURE__*/_jsx(Route,{path:\"/toolform\",element:/*#__PURE__*/_jsx(ToolForm,{})}),/*#__PURE__*/_jsx(Route,{path:\"/categoryform\",element:/*#__PURE__*/_jsx(CategoryForm,{})}),/*#__PURE__*/_jsx(Route,{path:\"/executivesummary\",element:/*#__PURE__*/_jsx(ExecutiveSummary,{})}),/*#__PURE__*/_jsx(Route,{path:\"/masteroperatingplan\",element:/*#__PURE__*/_jsx(MasterOperatingPlan,{})}),/*#__PURE__*/_jsx(Route,{path:\"/manage-test-lines\",element:/*#__PURE__*/_jsx(TestLineContainer,{})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{replace:true,to:\"/\"})})]})})]});}export default App;","map":{"version":3,"names":["React","useEffect","useDispatch","BrowserRouter","Router","Routes","Route","Link","Navigate","useNavigate","MasterOperatingPlan","About","ExecutiveSummary","ToolForm","CategoryForm","fetchTools","fetchCategories","HeroSection","checkSession","logoutUser","LandingPage","useSelector","LoginForm","NewUserForm","Layout","Breadcrumbs","TestLineContainer","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","App","dispatch","auth","state","then","action","type","endsWith","userId","payload","user_id","console","log","userIdObject","children","isAuthenticated","path","element","replace","to"],"sources":["/home/samuelrcwade/Development/Code/Projects/inv_management/client/src/components/App.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { BrowserRouter as Router, Routes, Route, Link, BrowserRouter, Navigate, useNavigate } from 'react-router-dom';\nimport MasterOperatingPlan from './MasterOperatingPlan';\nimport About from './About';\nimport ExecutiveSummary from './ExecutiveSummary';\nimport ToolForm from './ToolForm';\nimport CategoryForm from './CategoryForm';\nimport { fetchTools, fetchCategories } from '../slices/toolSlice';\nimport HeroSection from './HeroSection';\nimport { checkSession, logoutUser } from '../slices/authSlice';\nimport LandingPage from './LandingPage';\nimport { useSelector } from 'react-redux';\nimport LoginForm from './LoginForm';\nimport NewUserForm from './NewUserForm';\nimport Layout from './Layout';\nimport Breadcrumbs from './Breadcrumbs';\nimport TestLineContainer from './TestLineContainer';\n\nfunction App() {\n\n  const dispatch = useDispatch();\n  const auth = useSelector((state) => state.auth);\n\n\n  useEffect(() => {\n    dispatch(checkSession())\n      .then((action) => {\n        if (action.type.endsWith('fulfilled')) {\n          const userId = action.payload.user_id;\n          console.log('useriD', userId)\n          const userIdObject = action.payload;\n          console.log('useriD', userIdObject)\n          dispatch(fetchTools());\n          dispatch(fetchCategories())\n        }\n      });\n  }, [dispatch]);\n\n  // useEffect(() => {\n  //   dispatch(fetchTools());\n  // }, [dispatch]);\n\n  return (\n    <BrowserRouter>\n      {auth.isAuthenticated}\n\n      <Breadcrumbs/>\n\n      <Routes>\n        {/* Public Routes */}\n        {!auth.isAuthenticated ? (\n          <>\n            <Route path=\"/\" element={<LandingPage />} />\n            <Route path=\"/login\" element={<LoginForm />} />\n            <Route path=\"/signup\" element={<NewUserForm />} />\n            {/* Redirect all other paths to \"/\" if not authenticated */}\n            <Route path=\"*\" element={<Navigate replace to=\"/\" />} />\n          </>\n        ) : (\n          /* Protected Routes for Authenticated Users */\n\n          <>\n            <Route path=\"/\" element={<Layout />} />\n            <Route path=\"/toolform\" element={<ToolForm />} />\n            <Route path=\"/categoryform\" element={<CategoryForm />} />\n            <Route path=\"/executivesummary\" element={<ExecutiveSummary />} />\n            <Route path=\"/masteroperatingplan\" element={<MasterOperatingPlan />} />\n            <Route path=\"/manage-test-lines\" element={<TestLineContainer />} />\n            {/* Redirect unhandled paths back to \"/layout\" for authenticated users */}\n            <Route path=\"*\" element={<Navigate replace to=\"/\" />} />\n          </>\n        )}\n      </Routes>\n\n      {/* <div className=\"flex flex-col h-screen\">\n        <header className=\"navbar bg-base-100\">\n          <div className=\"flex-grow\">\n            <div className=\"flex items-center w-full px-4\">\n              <Link to=\"/\" className=\"btn btn-primary btn-base\">Roster</Link>\n              <Link to=\"/about\" className=\"btn btn-secondary btn-base\">About</Link>\n              <Link to=\"/toolform\" className=\"btn btn-accent btn-base\">Add New Tool</Link>\n              <Link to=\"/categoryform\" className=\"btn btn-accent btn-base\">Add New Category</Link>\n              <Link to=\"/executivesummary\" className=\"btn btn-accent btn-base\">Executive Summary</Link>\n            </div>\n          </div>\n        </header>\n\n        <main className=\"flex-grow\">\n          <Routes>\n            <Route path=\"/\" element={<MasterOperatingPlan />} />\n            <Route path=\"/about\" element={<About />} />\n            <Route path=\"/executivesummary\" element={<ExecutiveSummary />} />\n            <Route path=\"/toolform\" element={<ToolForm />} />\n            <Route path=\"/categoryform\" element={<CategoryForm />} />\n          </Routes>\n        </main>\n\n        <footer className=\"footer bg-base-300 text-base-content p-4\">\n          <div className=\"items-center grid-flow-col\">\n            <p>Â© 2023 Your Company Name</p>\n          </div>\n        </footer>\n      </div> */}\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}